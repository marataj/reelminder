<div #modal></div>

<div class="card p-2 bg-light" style="width: 18rem">
  <a href="course/{{ course.id }}" title="Play">
    <img
      class="card-img-top"
      src="https://img.youtube.com/vi/{{ course.movie_id }}/sddefault.jpg"
      alt="Card image cap"
    />
  </a>
  <div class="card-body">
    <h5 class="card-title">{{ course.title }}</h5>
    <p class="card-text">{{ course.description }}</p>

    <!-- Use of href instead of routerLink caused by issues with youtube player instance. In case of routerLink using, the page isn't refreshing which is desired scenario for angular apps, but causes some problems with YT iframe API  -->
    <div class="div">
      <div class="progress">
        <div
          class="progress-bar bg-dark"
          role="progressbar"
          aria-valuenow="250"
          aria-valuemin="0"
          aria-valuemax="100"
          [ngStyle]="{ width: course.progress_pct + '%' }"
        >
          {{ course.progress_pct }}%
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-around align-items-top py-2">
      <a href="course/{{ course.id }}" class="btn btn-light" title="Play">
        <h2><i class="bi bi-play-circle"></i></h2>
      </a>
      <button
        class="btn btn-light"
        *ngIf="course.group"
        routerLink="/courses/{{ course.group }}"
        title="Open group"
      >
        <h2><i class="bi bi-collection-play"></i></h2>
      </button>
      <a
        class="btn btn-light"
        (click)="editCourseModal({ id: course.id })"
        title="Edit"
      >
        <h2><i class="bi bi-pencil-square"></i></h2>
      </a>
      <a class="btn btn-light" (click)="deleteCourseModal()" title="Remove">
        <h2><i class="bi bi-trash"></i></h2>
      </a>
    </div>
  </div>
</div>
